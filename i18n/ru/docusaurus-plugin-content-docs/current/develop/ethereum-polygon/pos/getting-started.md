---
id: getting-started
title: Мост PoS
sidebar_label: Introduction
description: Больше гибкости и более быстрые выводы с Polygon POS.
keywords:
  - docs
  - matic
image: https://matic.network/banners/matic-network-16x9.png
---

Чтобы приступить к работе, ознакомьтесь с новейшей [документацией Matic.js по PoS](../matic-js/get-started.md).

Мост фактически представляет собой набор контрактов, помогающих перемещать активы из корневой цепочки в дочернюю цепочку. Существует два основных моста для перемещения активов между Ethereum и Polygon. Первый из них — мост Plasma, а второй — **мост PoS** или мост **доказательства стейка**. **Мост Plasma** предоставляет дополнительные гарантии безопасности, связанные с механизмом выхода Plasma.

Однако существуют определенные ограничения дочернего токена, а период вывода занимает 7 дней в связи с операциями выхода и вывода из Polygon в Ethereum через мост Plasma.

Это довольно неприятно для децентрализованных приложений и пользователей, которым требуется **гибкость** и **более быстрые выводы**, и которых устраивает уровень безопасности моста Polygon PoS, защищенного надежным набором внешних валидаторов.

Активы на базе доказательства стейка обеспечивают безопасность PoS и более быстрый вывод за один интервал checkpoint.

## Шаги по использованию моста PoS {#steps-to-use-the-pos-bridge}

Прежде чем мы перейдем к этому разделу документации, нам потребуется хорошо понять эти условия, поскольку вы будете взаимодействовать с ними, когда будете пытаться использовать мост. [Сопоставление](https://docs.polygon.technology/docs/develop/ethereum-polygon/submit-mapping-request/) и [механизм синхронизации состояния](https://docs.polygon.technology/docs/pos/state-sync/state-sync/)

Закончили с этими ссылками? Тогда давайте перейдем к более высокоуровневому обзору процесса.

- Первый шаг для использования моста PoS предусматривает сопоставление **корневого токена** и **дочернего токена**. Не волнуйтесь, это совсем не сложно. Это просто означает, что контракт токена в корневой цепочке и контракт токена в дочерней цепочки должны поддерживать связь (которая называется сопоставление) для перемещения активов между ними. Если вас интересует отправка заявки на сопоставление, вы можете сделать это [здесь](https://docs.polygon.technology/docs/develop/ethereum-polygon/submit-mapping-request/).

Вот что происходит на более низком уровне с большим количеством деталей

### Депозит {#deposit}

- Владелец токена актива одобряет контракт Predicate для блокировки вносимого на депозит количества токенов. После подтверждения транзакции одобрения владелец токена актива взаимодействует с **RootChainManager** для завершения внесения депозита.

- Затем актив вносится на депозит с помощью **механизма синхронизации состояния**. Если вы не поняли, что такое механизм синхронизации состояния, знайте, что в своей простейшей форме он представляет собой нативный механизм для отправки данных из сети Ethereum в сеть Polygon. Этот механизм запускает вызов функции, составленной из **RootChainManager**, и эта функция активирует контракт **ChildChainManager**.

Хотите увидеть это в видеоформате? Посмотрите видео ниже

<video loop autoplay width="70%" height="70%" controls="true" >
  <source type="video/mp4" src="/img/matic-to-eth/deposit-eth-matic.mp4"></source>
  <p>Ваш браузер не поддерживает этот видеоэлемент.</p>
</video>

### Вывод {#withdrawals}

- Выводить активы с мостом PoS очень легко. Для этого достаточно сжечь токены актива в цепочке Polygon chain, собрать хэш транзакции сжигания и отправить эту транзакцию в **RootChainManager**. Затем **RootChainManager** вызывает контракт Predicate для освобождения средств, заблокированных в цепочке Ethereum.

- После подтверждения транзакции сжигания в цепочке Polygon chain для создания checkpoint этой транзакции требуется от 30 минут до 3 часов. Создание checkpoint (контрольной точки) — это процесс внесения транзакций Polygon в блокчейн Ethereum.

- Затем доказательство этой транзакции сжигания отправляется в **RootChainManager** посредством вызова функции выхода. Этот вызов функции принимает burnHash для проверки включения checkpoint и только затем активирует контракт Predicate, который разблокирует и освобождает средства, внесенные на депозит.

Хотите посмотреть все это в видеоформате? Посмотрите видео ниже

- После сопоставления вы сможете использовать **matic.js SDK** для взаимодействия или сделать то же самое без SDK. Однако matic.js SDK спроектирован очень удобным и позволяет легко интегрировать механизм передачи активов в любое приложение.

- **Полный цикл передачи активов из Ethereum в Polygon, а затем обратно в Ethereum** будет разъяснен в этом руководстве. Вкратце этот процесс описан ниже:

  1. Владелец токена актива **(ERC20/ERC721/ERC1155)** должен одобрить определенный контракт на мосту PoS, чтобы потратить переводимое количество токенов. Этот контракт называется **контракт Predicate** (развернут в сети Ethereum), и он фактически **блокирует вносимое на депозит количество токенов**.
  2. Следующий шаг после одобрения — **внесение актива на депозит**. Для этого требуется вызвать в контракте **RootChainManager** функцию, которая, в свою очередь, активирует контракт **ChildChainManager** в цепочке Polygon chain.
  3. Это выполняется через механизм синхронизации состояния, который подробно описан [здесь](https://docs.polygon.technology/docs/pos/state-sync/state-sync/).
  4. **ChildChainManager** выполняет внутренний вызов функции **deposit** контракта дочернего токена, и соответствующее количество токенов активов **создаются в аккаунте пользователя посредством минтинга**. Важно отметить, что только ChildChainManager имеет доступ к функции депозита в контракте дочернего токена.
  5. Когда пользователь получит токены, их можно будет **перевести в цепочке Polygon chain практически мгновенно с незначительной комиссией**.
  6. Вывод активов обратно в цепочку Ethereum — это процесс из 2 шагов, в котором токены **вначале сжигаются в цепочке Polygon chain,** а затем **доказательство этой транзакции сжигания отправляется** в цепочку Ethereum.
  7. Создание checkpoint в цепочке Ethereum для транзакции сжигания занимает от 20 минут до 3 часов. Эту операцию выполняют валидаторы POS.
  8. После добавления транзакции в checkpoint доказательство транзакции сжигания можно отправить через контракт **RootChainManager** в Ethereum посредством вызова функции **exit**.
  9. Этот вызов функции **проверяет включение checkpoint** и активирует контракт Predicate, который блокировал токены актива, когда активы были первоначально внесены на депозит.
  10. На заключительном шаге **контракт predicate освобождает заблокированные токены** и возвращает их в аккаунт пользователя в Ethereum.
